<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="icon" href="/images/favicon.png" type="image/png" size="32x32">
    <title><%= title %></title>
    <style>
        .dropbtn {
            background-color: #3498DB;
            color: white;
            padding: 16px;
            font-size: 16px;
            border: none;
            cursor: pointer;
        }
        
        .dropbtn:hover, .dropbtn:focus {
            background-color: #2980B9;
        }
        
        .dropdown {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            overflow: auto;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        
        .dropdown a:hover {background-color: #ddd}
        
        .show {display:block;}
        </style>
</head>

<body>
    <!-- Creating the navigation of the website -->
    <nav>
        <div class="container">
            <ul>
                <li onClick="window.location.reload()" style="cursor:pointer;">Advocate Platform</li>
                <li class="goright"><a href="logout">Sign Out</a></li>
                <li class="gooright"><%= username %></li>
            </ul>
        </div>
    </nav>
    <div class="dropdown">
        <button onclick="myFunction()" class="dropbtn">Dropdown</button>
          <div id="myDropdown" class="dropdown-content">
              <h1 style="text-align: center;">Pending Contracts</h1>
              <% contract.forEach(function (products) {    %>
                <ul class="Items">
                    <li id="listedItems" style="cursor: pointer;" onclick="openContract('<%= products %>')">
                        <h2><%= products%></h2>                 
                </ul>
                <% }) %>
          </div>
        </div>
    <section id="side-menu">
        <div class="container">
            <input type="button" id="add_component" name="add_component" value="Add Device">
        </div>
    </section>
    <section id="Components">
        <div class="container">
            <h1>Devices</h1>
            <div id="box">
                <h1><%= username %></h1>
                <% product.forEach(function (products) {    %>
                <ul class="Items">
                    <li id="listedItems" style="cursor: pointer;">
                        <h2><%= products.companyID%></h2>
                        <h3 class="take"><%= products.id %></h3>
                        <h4><%= products.deviceType %></h4></li>
                        
                </ul>
                <% }) %>
            </div>
        </div>
    </section>
    <script>
        /* When the user clicks on the button, 
        toggle between hiding and showing the dropdown content */
        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        
        // Close the dropdown if the user clicks outside of it
        window.onclick = function(event) {
          if (!event.target.matches('.dropbtn')) {
        
            var dropdowns = document.getElementsByClassName("dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        }
        </script>
    <!-- Static Files -->
   <script src="/js/addbox.js"></script>
   <script src="/js/displayContracts.js"></script>
</body>
</html>
